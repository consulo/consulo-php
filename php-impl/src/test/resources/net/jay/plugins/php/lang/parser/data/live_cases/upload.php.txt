<div class="pageBefore">
    <img src="<?php echo $this->GetConfigValue("root_url"); ?>images/z.gif" width="1" height="1" border="0" alt="" style="display:block" align="top" />
</div>
<div class="page"><?php

if ($user = $this->getUser()) {
	$user = strtolower($this->GetUserName());
	$registered = true;
} else {
    $user = 'guest@wacko';
}

if ($registered
    && (($this->config["upload"] === true)
        || ($this->config["upload"] == "1")
        || ($this->CheckACL($user,$this->config["upload"])))
    && ($this->HasAccess("write") && $this->HasAccess("read")))
{
	if (!$this->page) {
		echo str_replace('%1', $this->href('edit'), $this->getResourceValue('DoesNotExists'));
	} elseif ($_GET['remove']) {
		// show the form
		if ($_GET['remove'] == 'global') {
			$page_id = 0;
		} else {
			$page_id = $this->page['id'];
		}
		$sql = 'SELECT user, id, filename, filesize, description FROM '.$this->config['table_prefix'].'upload'.
				" WHERE page_id='".quote($page_id)."' AND filename='".quote($_GET['file'])."'";
		$what = $this->loadAll($sql);
		if (sizeof($what) > 0) {
			if ($this->isAdmin() || ($page_id && ($this->getPageOwner($this->tag)==$this->getUserName()))
				|| ($what[0]['user']==$this->getUserName()))
            {
				echo '<h1>'.$this->getResourceValue('UploadRemoveConfirm').'</h1>';
				echo $this->formOpen('upload');
				// !!!!! ????‡‚??? ?‰??? ?????? ?‡ ?‰‡?????? ?‡??
                ?><br />
                <ul>
                    <li><?=$this->link('file:'.($_GET['remove']=='global'?'':$this->tag.'/').$_GET['file'])?></li>
                </ul><br />
                <input type="hidden" name="remove" value="<?php echo $_GET["remove"]?>" />
                <input type="hidden" name="file" value="<?php echo $_GET["file"]?>" />
                <input name="submit" class="OkBtn_Top" onmouseover='this.className="OkBtn_Top_";' onmouseout ='this.className="OkBtn_Top";' type="submit" align="top" value="<?=$this->getResourceValue('RemoveButton')?>" />
                <input class="CancelBtn_Top" onmouseover='this.className="CancelBtn_Top_";' onmouseout ='this.className="CancelBtn_Top";' type="button" align="top" value="<?=str_replace("\n",' ', $this->getResourceValue('EditCancelButton'))?>" onclick="document.location='<?=addslashes($this->href(''))?>';" /><br /><br />
	            <?= $this->FormClose() ?> <?
			} else {
				echo $this->getResourceValue('UploadRemoveDenied');
			}
		} else {
			echo $this->getResourceValue('UploadFileNotFound');
		}
        ?></div><?
		return true;
	} elseif ($_POST['remove']) {
		// delete
		// 1. where, existence
		if ($_POST['remove'] == 'global') {
			$page_id = 0;
		} else {
			$page_id = $this->page['id'];
		}
		$sql = 'SELECT user, id, filename, filesize, description FROM '.$this->config['table_prefix'].'upload'.
				" WHERE page_id='".quote($page_id)."' AND filename='".quote($_POST["file"])."'";
		$what = $this->LoadAll($sql);
		if (sizeof($what) > 0) {
			if ($this->isAdmin() || ($page_id && ($this->getPageOwner($this->tag)==$this->getUserName()))
				|| ($what[0]['user']==$this->getUserName()))
            {
				// 2. remove from DB
				$sql = 'DELETE FROM '.$this->config['table_prefix']."upload WHERE id='".quote($what[0]["id"])."'";
				$this->query($sql);
				echo '<div>'.$this->getResourceValue('UploadRemovedFromDB').'</div>';
				// 3. remove from FS
				$real_filename = ($page_id ? $this->config['upload_path_per_page'].'/@'.str_replace('/', '@', $this->supertag).'@' : $this->config['upload_path'].'/') .$what[0]["filename"];
				if (@unlink($real_filename)) {
					echo '<div>'.$this->getResourceValue('UploadRemovedFromFS').'</div><br /><br />';
				} else {
					echo '<div style="color:#ff0000">'.$this->getResourceValue('UploadRemovedFromFSError').'</div><br /><br />';
				}
			} else {
				echo $this->getResourceValue('UploadRemoveDenied');
			}
		} else {
			echo $this->getResourceValue('UploadRemoveNotFound');
		}
	} else {
		$user = $this->getUser();
		$sql = 'SELECT id FROM '.$this->config['table_prefix']."upload WHERE user='".quote($user['name'])."'";
		$files = $this->loadAll($sql);
		if (!$this->config['upload_max_per_user'] || (sizeof($files) < $this->config['upload_max_per_user'])) {
			if (is_uploaded_file($_FILES['file']['tmp_name'])) {
				// there is file
				// 1. check out $data
				$_data = explode('.', $_FILES['file']['name']);
				$ext = $_data[sizeof($_data)-1];
				unset($_data[ sizeof($_data)-1]);
				$name = implode('.', $_data);
				$name = str_replace('@', '_', $name);

				// here would be place for translit
				$name = $this->format($name, 'translit');

				// 1.5. +write @PageSupertag@SubPage@ to name
                $name = '@' . str_replace('/', '@', $this->page['supertag']) . '@' . $name;

                $dir = $this->config['upload_path_per_page'] . '/';

				$_name = $name;
				$count = 1;
				while (file_exists($dir . $name . '.' . $ext)) {
					if ($name === $_name) {
						$name = $_name . $count;
					} else {
						$name = $_name . (++$count);
					}
				}

				$result_name = $name . '.' . $ext;
				$file_size = $_FILES['file']['size'];

				// 1.6. check filesize, if asked
				$maxfilesize = $this->config['upload_max_size'];
				if ($_POST['maxsize'] && $maxfilesize > 1 * $_POST['maxsize']) {
					$maxfilesize = 1 * $_POST['maxsize'];
				}
				if ($file_size < $maxfilesize * 1024) {
					// 1.7. check is image, if asked
					$forbid = 0;
					$size = array(0, 0);
					$src = $_FILES['file']['tmp_name'];
					$size = @getimagesize($src);

					if ($this->config['upload_images_only'] && $size[0] == 0) {
						$forbid = 1;
					}
					if (isset($size[2]) && ($size[2] < 1 || $size[2] > 3)) {
						$size[0] = 0;
						$size[1] = 0;
					}
					if (!$forbid) {
						// 3. save to permanent location
						if (move_uploaded_file($_FILES['file']['tmp_name'], $dir.$result_name)) {
							chmod($dir.$result_name, 0744);

                            $small_name = explode('@', $result_name);
                            $small_name = $small_name[sizeof($small_name)-1];
							$description = substr(quote($_POST['description']), 0, 250);
							$description = rtrim($description, "\\");

							// 5. insert line into DB
							$sql = 'INSERT INTO '.$this->config['table_prefix'].'upload'.
									" SET page_id=".quote($is_global?'NULL':$this->page['id']).
										", filename='".quote($small_name)."', description='".quote($description)."'".
										", filesize='".quote($file_size)."', picture_w='".quote($size[0])."'".
										", picture_h='".quote($size[1])."', file_ext='".quote(substr($ext,0,10))."'".
										", user='".quote($user["name"])."', uploaded_dt='".quote(date('Y-m-d H:i:s'))."' ";
							$this->query($sql);

							// 4. output link to file
							// !!!!! write after providing filelink syntax
                            ?><h1><?=$this->getResourceValue('UploadDone')?></h1>
                            <br />
                            <?= 'file:/' . ($this->tag . '/') . $small_name ?>
                            <br /><br /><?
						} else {
							//cannot write file
							$error = $this->getResourceValue('UploadCannotWrite');
						}
					} else {
						//forbid
						$error = $this->getResourceValue('UploadNotAPicture');
					}
				} else {
					//maxsize
					$error = $this->getResourceValue('UploadMaxSizeReached');
				}
			} else {
				//!is_uploaded_file
				if ($_FILES['file']['error']==UPLOAD_ERR_INI_SIZE || $_FILES['file']['error']==UPLOAD_ERR_FORM_SIZE) {
					$error = $this->getResourceValue('UploadMaxSizeReached');
				} elseif ($_FILES['file']['error']==UPLOAD_ERR_PARTIAL || $_FILES['file']['error']==UPLOAD_ERR_NO_FILE) {
					$error = $this->getResourceValue('UploadNoFile');
				} else {
					$error = $this->getResourceValue('UploadMaxSizeReached');
				}
			}
		} else {
			$error = $this->getResourceValue('UploadMaxFileCount');
		}
	}
	if ($error) {
		echo $error."<br /><br />";
	}
	echo $this->action('upload', array()).'<br />';
	echo $this->action('files', array());
} else {
	echo $this->getResourceValue('UploadForbidden');
}
if (!$this->getConfigValue('revisions_hide_cancel')) {
	echo '<input type="button" value="'.$this->getResourceValue('CancelDifferencesButton').'" onclick="document.location=\''.addslashes($this->href(''))."';\" />\n";
}
?>
</div>
--------------------
PHP file
	Group statement
		HTML
			PsiElement(html)('<div class="pageBefore">\n    <img src="')
		PsiElement(php opening tag)('<?php ')
		Statement
			Echo
				PsiElement(echo)('echo')
				PsiWhiteSpace(' ')
				Method reference
					Variable
						PsiElement(variable)('$this')
					PsiElement(arrow)('->')
					PsiElement(identifier)('GetConfigValue')
					PsiElement(()('(')
					Parameter list
						String
							PsiElement(string)('"root_url"')
					PsiElement())(')')
				PsiElement(semicolon)(';')
		PsiWhiteSpace(' ')
		PsiElement(php closing tag)('?>')
		HTML
			PsiElement(html)('images/z.gif" width="1" height="1" border="0" alt="" style="display:block" align="top" />\n</div>\n<div class="page">')
		PsiElement(php opening tag)('<?php\n')
		PsiWhiteSpace('\n')
		Statement
			If
				PsiElement(if)('if')
				PsiWhiteSpace(' ')
				PsiElement(()('(')
				Assignment expression
					Variable
						PsiElement(variable)('$user')
					PsiWhiteSpace(' ')
					PsiElement(assign)('=')
					PsiWhiteSpace(' ')
					Method reference
						Variable
							PsiElement(variable)('$this')
						PsiElement(arrow)('->')
						PsiElement(identifier)('getUser')
						PsiElement(()('(')
						Parameter list
							<empty list>
						PsiElement())(')')
				PsiElement())(')')
				PsiWhiteSpace(' ')
				PsiElement({)('{')
				PsiWhiteSpace('\n\t')
				Group statement
					Statement
						Assignment expression
							Variable
								PsiElement(variable)('$user')
							PsiWhiteSpace(' ')
							PsiElement(assign)('=')
							PsiWhiteSpace(' ')
							Function call
								PsiElement(identifier)('strtolower')
								PsiElement(()('(')
								Parameter list
									Method reference
										Variable
											PsiElement(variable)('$this')
										PsiElement(arrow)('->')
										PsiElement(identifier)('GetUserName')
										PsiElement(()('(')
										Parameter list
											<empty list>
										PsiElement())(')')
								PsiElement())(')')
						PsiElement(semicolon)(';')
					PsiWhiteSpace('\n\t')
					Statement
						Assignment expression
							Variable
								PsiElement(variable)('$registered')
							PsiWhiteSpace(' ')
							PsiElement(assign)('=')
							PsiWhiteSpace(' ')
							Constant
								PsiElement(identifier)('true')
						PsiElement(semicolon)(';')
				PsiWhiteSpace('\n')
				PsiElement(})('}')
				PsiWhiteSpace(' ')
				Else
					PsiElement(else)('else')
					PsiWhiteSpace(' ')
					PsiElement({)('{')
					PsiWhiteSpace('\n    ')
					Group statement
						Statement
							Assignment expression
								Variable
									PsiElement(variable)('$user')
								PsiWhiteSpace(' ')
								PsiElement(assign)('=')
								PsiWhiteSpace(' ')
								String
									PsiElement(single quoted string)(''guest@wacko'')
							PsiElement(semicolon)(';')
					PsiWhiteSpace('\n')
					PsiElement(})('}')
		PsiWhiteSpace('\n\n')
		Statement
			If
				PsiElement(if)('if')
				PsiWhiteSpace(' ')
				PsiElement(()('(')
				Logical expression
					Logical expression
						Variable
							PsiElement(variable)('$registered')
						PsiWhiteSpace('\n    ')
						PsiElement(and)('&&')
						PsiWhiteSpace(' ')
						PsiElement(()('(')
						Logical expression
							Logical expression
								PsiElement(()('(')
								Equality expression
									Field reference
										Variable
											PsiElement(variable)('$this')
										PsiElement(arrow)('->')
										Field reference
											PsiElement(identifier)('config')
										PsiElement([)('[')
										Array index
											String
												PsiElement(string)('"upload"')
										PsiElement(])(']')
									PsiWhiteSpace(' ')
									PsiElement(identical)('===')
									PsiWhiteSpace(' ')
									Constant
										PsiElement(identifier)('true')
								PsiElement())(')')
								PsiWhiteSpace('\n        ')
								PsiElement(or)('||')
								PsiWhiteSpace(' ')
								PsiElement(()('(')
								Equality expression
									Field reference
										Variable
											PsiElement(variable)('$this')
										PsiElement(arrow)('->')
										Field reference
											PsiElement(identifier)('config')
										PsiElement([)('[')
										Array index
											String
												PsiElement(string)('"upload"')
										PsiElement(])(']')
									PsiWhiteSpace(' ')
									PsiElement(equals)('==')
									PsiWhiteSpace(' ')
									String
										PsiElement(string)('"1"')
								PsiElement())(')')
							PsiWhiteSpace('\n        ')
							PsiElement(or)('||')
							PsiWhiteSpace(' ')
							PsiElement(()('(')
							Method reference
								Variable
									PsiElement(variable)('$this')
								PsiElement(arrow)('->')
								PsiElement(identifier)('CheckACL')
								PsiElement(()('(')
								Parameter list
									Variable
										PsiElement(variable)('$user')
									PsiElement(comma)(',')
									Field reference
										Variable
											PsiElement(variable)('$this')
										PsiElement(arrow)('->')
										Field reference
											PsiElement(identifier)('config')
										PsiElement([)('[')
										Array index
											String
												PsiElement(string)('"upload"')
										PsiElement(])(']')
								PsiElement())(')')
							PsiElement())(')')
						PsiElement())(')')
					PsiWhiteSpace('\n    ')
					PsiElement(and)('&&')
					PsiWhiteSpace(' ')
					PsiElement(()('(')
					Logical expression
						Method reference
							Variable
								PsiElement(variable)('$this')
							PsiElement(arrow)('->')
							PsiElement(identifier)('HasAccess')
							PsiElement(()('(')
							Parameter list
								String
									PsiElement(string)('"write"')
							PsiElement())(')')
						PsiWhiteSpace(' ')
						PsiElement(and)('&&')
						PsiWhiteSpace(' ')
						Method reference
							Variable
								PsiElement(variable)('$this')
							PsiElement(arrow)('->')
							PsiElement(identifier)('HasAccess')
							PsiElement(()('(')
							Parameter list
								String
									PsiElement(string)('"read"')
							PsiElement())(')')
					PsiElement())(')')
				PsiElement())(')')
				PsiWhiteSpace('\n')
				PsiElement({)('{')
				PsiWhiteSpace('\n\t')
				Group statement
					Statement
						If
							PsiElement(if)('if')
							PsiWhiteSpace(' ')
							PsiElement(()('(')
							Unary expression
								PsiElement(not)('!')
								Field reference
									Variable
										PsiElement(variable)('$this')
									PsiElement(arrow)('->')
									PsiElement(identifier)('page')
							PsiElement())(')')
							PsiWhiteSpace(' ')
							PsiElement({)('{')
							PsiWhiteSpace('\n\t\t')
							Group statement
								Statement
									Echo
										PsiElement(echo)('echo')
										PsiWhiteSpace(' ')
										Function call
											PsiElement(identifier)('str_replace')
											PsiElement(()('(')
											Parameter list
												String
													PsiElement(single quoted string)(''%1'')
												PsiElement(comma)(',')
												PsiWhiteSpace(' ')
												Method reference
													Variable
														PsiElement(variable)('$this')
													PsiElement(arrow)('->')
													PsiElement(identifier)('href')
													PsiElement(()('(')
													Parameter list
														String
															PsiElement(single quoted string)(''edit'')
													PsiElement())(')')
												PsiElement(comma)(',')
												PsiWhiteSpace(' ')
												Method reference
													Variable
														PsiElement(variable)('$this')
													PsiElement(arrow)('->')
													PsiElement(identifier)('getResourceValue')
													PsiElement(()('(')
													Parameter list
														String
															PsiElement(single quoted string)(''DoesNotExists'')
													PsiElement())(')')
											PsiElement())(')')
										PsiElement(semicolon)(';')
							PsiWhiteSpace('\n\t')
							PsiElement(})('}')
							PsiWhiteSpace(' ')
							Elseif
								PsiElement(elseif)('elseif')
								PsiWhiteSpace(' ')
								PsiElement(()('(')
								Array
									Variable
										PsiElement(variable)('$_GET')
									PsiElement([)('[')
									Array index
										String
											PsiElement(single quoted string)(''remove'')
									PsiElement(])(']')
								PsiElement())(')')
								PsiWhiteSpace(' ')
								PsiElement({)('{')
								PsiWhiteSpace('\n\t\t')
								PsiComment(line comment)('// show the form')
								PsiWhiteSpace('\n\t\t')
								Group statement
									Statement
										If
											PsiElement(if)('if')
											PsiWhiteSpace(' ')
											PsiElement(()('(')
											Equality expression
												Array
													Variable
														PsiElement(variable)('$_GET')
													PsiElement([)('[')
													Array index
														String
															PsiElement(single quoted string)(''remove'')
													PsiElement(])(']')
												PsiWhiteSpace(' ')
												PsiElement(equals)('==')
												PsiWhiteSpace(' ')
												String
													PsiElement(single quoted string)(''global'')
											PsiElement())(')')
											PsiWhiteSpace(' ')
											PsiElement({)('{')
											PsiWhiteSpace('\n\t\t\t')
											Group statement
												Statement
													Assignment expression
														Variable
															PsiElement(variable)('$page_id')
														PsiWhiteSpace(' ')
														PsiElement(assign)('=')
														PsiWhiteSpace(' ')
														Number
															PsiElement(integer)('0')
													PsiElement(semicolon)(';')
											PsiWhiteSpace('\n\t\t')
											PsiElement(})('}')
											PsiWhiteSpace(' ')
											Else
												PsiElement(else)('else')
												PsiWhiteSpace(' ')
												PsiElement({)('{')
												PsiWhiteSpace('\n\t\t\t')
												Group statement
													Statement
														Assignment expression
															Variable
																PsiElement(variable)('$page_id')
															PsiWhiteSpace(' ')
															PsiElement(assign)('=')
															PsiWhiteSpace(' ')
															Field reference
																Variable
																	PsiElement(variable)('$this')
																PsiElement(arrow)('->')
																Field reference
																	PsiElement(identifier)('page')
																PsiElement([)('[')
																Array index
																	String
																		PsiElement(single quoted string)(''id'')
																PsiElement(])(']')
														PsiElement(semicolon)(';')
												PsiWhiteSpace('\n\t\t')
												PsiElement(})('}')
									PsiWhiteSpace('\n\t\t')
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$sql')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Additive expression
												Additive expression
													Additive expression
														Additive expression
															Additive expression
																Additive expression
																	Additive expression
																		String
																			PsiElement(single quoted string)(''SELECT user, id, filename, filesize, description FROM '')
																		PsiElement(dot)('.')
																		Field reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			Field reference
																				PsiElement(identifier)('config')
																			PsiElement([)('[')
																			Array index
																				String
																					PsiElement(single quoted string)(''table_prefix'')
																			PsiElement(])(']')
																	PsiElement(dot)('.')
																	String
																		PsiElement(single quoted string)(''upload'')
																PsiElement(dot)('.')
																PsiWhiteSpace('\n\t\t\t\t')
																String
																	PsiElement(string)('" WHERE page_id='"')
															PsiElement(dot)('.')
															Function call
																PsiElement(identifier)('quote')
																PsiElement(()('(')
																Parameter list
																	Variable
																		PsiElement(variable)('$page_id')
																PsiElement())(')')
														PsiElement(dot)('.')
														String
															PsiElement(string)('"' AND filename='"')
													PsiElement(dot)('.')
													Function call
														PsiElement(identifier)('quote')
														PsiElement(()('(')
														Parameter list
															Array
																Variable
																	PsiElement(variable)('$_GET')
																PsiElement([)('[')
																Array index
																	String
																		PsiElement(single quoted string)(''file'')
																PsiElement(])(']')
														PsiElement())(')')
												PsiElement(dot)('.')
												String
													PsiElement(string)('"'"')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$what')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Method reference
												Variable
													PsiElement(variable)('$this')
												PsiElement(arrow)('->')
												PsiElement(identifier)('loadAll')
												PsiElement(()('(')
												Parameter list
													Variable
														PsiElement(variable)('$sql')
												PsiElement())(')')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										If
											PsiElement(if)('if')
											PsiWhiteSpace(' ')
											PsiElement(()('(')
											Relational expression
												Function call
													PsiElement(identifier)('sizeof')
													PsiElement(()('(')
													Parameter list
														Variable
															PsiElement(variable)('$what')
													PsiElement())(')')
												PsiWhiteSpace(' ')
												PsiElement(greater than)('>')
												PsiWhiteSpace(' ')
												Number
													PsiElement(integer)('0')
											PsiElement())(')')
											PsiWhiteSpace(' ')
											PsiElement({)('{')
											PsiWhiteSpace('\n\t\t\t')
											Group statement
												Statement
													If
														PsiElement(if)('if')
														PsiWhiteSpace(' ')
														PsiElement(()('(')
														Logical expression
															Logical expression
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('isAdmin')
																	PsiElement(()('(')
																	Parameter list
																		<empty list>
																	PsiElement())(')')
																PsiWhiteSpace(' ')
																PsiElement(or)('||')
																PsiWhiteSpace(' ')
																PsiElement(()('(')
																Logical expression
																	Variable
																		PsiElement(variable)('$page_id')
																	PsiWhiteSpace(' ')
																	PsiElement(and)('&&')
																	PsiWhiteSpace(' ')
																	PsiElement(()('(')
																	Equality expression
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getPageOwner')
																			PsiElement(()('(')
																			Parameter list
																				Field reference
																					Variable
																						PsiElement(variable)('$this')
																					PsiElement(arrow)('->')
																					PsiElement(identifier)('tag')
																			PsiElement())(')')
																		PsiElement(equals)('==')
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getUserName')
																			PsiElement(()('(')
																			Parameter list
																				<empty list>
																			PsiElement())(')')
																	PsiElement())(')')
																PsiElement())(')')
															PsiWhiteSpace('\n\t\t\t\t')
															PsiElement(or)('||')
															PsiWhiteSpace(' ')
															PsiElement(()('(')
															Equality expression
																Array
																	Array
																		Variable
																			PsiElement(variable)('$what')
																		PsiElement([)('[')
																		Array index
																			Number
																				PsiElement(integer)('0')
																		PsiElement(])(']')
																	PsiElement([)('[')
																	Array index
																		String
																			PsiElement(single quoted string)(''user'')
																	PsiElement(])(']')
																PsiElement(equals)('==')
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('getUserName')
																	PsiElement(()('(')
																	Parameter list
																		<empty list>
																	PsiElement())(')')
															PsiElement())(')')
														PsiElement())(')')
														PsiWhiteSpace('\n            ')
														PsiElement({)('{')
														PsiWhiteSpace('\n\t\t\t\t')
														Group statement
															Statement
																Echo
																	PsiElement(echo)('echo')
																	PsiWhiteSpace(' ')
																	Additive expression
																		Additive expression
																			String
																				PsiElement(single quoted string)(''<h1>'')
																			PsiElement(dot)('.')
																			Method reference
																				Variable
																					PsiElement(variable)('$this')
																				PsiElement(arrow)('->')
																				PsiElement(identifier)('getResourceValue')
																				PsiElement(()('(')
																				Parameter list
																					String
																						PsiElement(single quoted string)(''UploadRemoveConfirm'')
																				PsiElement())(')')
																		PsiElement(dot)('.')
																		String
																			PsiElement(single quoted string)(''</h1>'')
																	PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Echo
																	PsiElement(echo)('echo')
																	PsiWhiteSpace(' ')
																	Method reference
																		Variable
																			PsiElement(variable)('$this')
																		PsiElement(arrow)('->')
																		PsiElement(identifier)('formOpen')
																		PsiElement(()('(')
																		Parameter list
																			String
																				PsiElement(single quoted string)(''upload'')
																		PsiElement())(')')
																	PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															PsiComment(line comment)('// !!!!! ????????? ????? ?????? ?? ????????? ????')
															PsiWhiteSpace('\n                ')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('<br />\n                <ul>\n                    <li>')
															PsiElement(php echo opening tag)('<?=')
															Statement
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('link')
																	PsiElement(()('(')
																	Parameter list
																		Additive expression
																			Additive expression
																				String
																					PsiElement(single quoted string)(''file:'')
																				PsiElement(dot)('.')
																				PsiElement(()('(')
																				Ternary expression
																					Equality expression
																						Array
																							Variable
																								PsiElement(variable)('$_GET')
																							PsiElement([)('[')
																							Array index
																								String
																									PsiElement(single quoted string)(''remove'')
																							PsiElement(])(']')
																						PsiElement(equals)('==')
																						String
																							PsiElement(single quoted string)(''global'')
																					PsiElement(ternary)('?')
																					String
																						PsiElement(single quoted string)('''')
																					PsiElement(colon)(':')
																					Additive expression
																						Field reference
																							Variable
																								PsiElement(variable)('$this')
																							PsiElement(arrow)('->')
																							PsiElement(identifier)('tag')
																						PsiElement(dot)('.')
																						String
																							PsiElement(single quoted string)(''/'')
																				PsiElement())(')')
																			PsiElement(dot)('.')
																			Array
																				Variable
																					PsiElement(variable)('$_GET')
																				PsiElement([)('[')
																				Array index
																					String
																						PsiElement(single quoted string)(''file'')
																				PsiElement(])(']')
																	PsiElement())(')')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('</li>\n                </ul><br />\n                <input type="hidden" name="remove" value="')
															PsiElement(php opening tag)('<?php ')
															Statement
																Echo
																	PsiElement(echo)('echo')
																	PsiWhiteSpace(' ')
																	Array
																		Variable
																			PsiElement(variable)('$_GET')
																		PsiElement([)('[')
																		Array index
																			String
																				PsiElement(string)('"remove"')
																		PsiElement(])(']')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('" />\n                <input type="hidden" name="file" value="')
															PsiElement(php opening tag)('<?php ')
															Statement
																Echo
																	PsiElement(echo)('echo')
																	PsiWhiteSpace(' ')
																	Array
																		Variable
																			PsiElement(variable)('$_GET')
																		PsiElement([)('[')
																		Array index
																			String
																				PsiElement(string)('"file"')
																		PsiElement(])(']')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('" />\n                <input name="submit" class="OkBtn_Top" onmouseover='this.className="OkBtn_Top_";' onmouseout ='this.className="OkBtn_Top";' type="submit" align="top" value="')
															PsiElement(php echo opening tag)('<?=')
															Statement
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('getResourceValue')
																	PsiElement(()('(')
																	Parameter list
																		String
																			PsiElement(single quoted string)(''RemoveButton'')
																	PsiElement())(')')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('" />\n                <input class="CancelBtn_Top" onmouseover='this.className="CancelBtn_Top_";' onmouseout ='this.className="CancelBtn_Top";' type="button" align="top" value="')
															PsiElement(php echo opening tag)('<?=')
															Statement
																Function call
																	PsiElement(identifier)('str_replace')
																	PsiElement(()('(')
																	Parameter list
																		String
																			PsiElement(string)('"\n"')
																		PsiElement(comma)(',')
																		String
																			PsiElement(single quoted string)('' '')
																		PsiElement(comma)(',')
																		PsiWhiteSpace(' ')
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getResourceValue')
																			PsiElement(()('(')
																			Parameter list
																				String
																					PsiElement(single quoted string)(''EditCancelButton'')
																			PsiElement())(')')
																	PsiElement())(')')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('" onclick="document.location='')
															PsiElement(php echo opening tag)('<?=')
															Statement
																Function call
																	PsiElement(identifier)('addslashes')
																	PsiElement(()('(')
																	Parameter list
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('href')
																			PsiElement(()('(')
																			Parameter list
																				String
																					PsiElement(single quoted string)('''')
																			PsiElement())(')')
																	PsiElement())(')')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)('';" /><br /><br />\n\t            ')
															PsiElement(php echo opening tag)('<?=')
															PsiWhiteSpace(' ')
															Statement
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('FormClose')
																	PsiElement(()('(')
																	Parameter list
																		<empty list>
																	PsiElement())(')')
															PsiWhiteSpace(' ')
															PsiElement(php closing tag)('?>')
															HTML
																PsiElement(html)(' ')
															PsiElement(php opening tag)('<?')
														PsiWhiteSpace('\n\t\t\t')
														PsiElement(})('}')
														PsiWhiteSpace(' ')
														Else
															PsiElement(else)('else')
															PsiWhiteSpace(' ')
															PsiElement({)('{')
															PsiWhiteSpace('\n\t\t\t\t')
															Group statement
																Statement
																	Echo
																		PsiElement(echo)('echo')
																		PsiWhiteSpace(' ')
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getResourceValue')
																			PsiElement(()('(')
																			Parameter list
																				String
																					PsiElement(single quoted string)(''UploadRemoveDenied'')
																			PsiElement())(')')
																		PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t')
															PsiElement(})('}')
											PsiWhiteSpace('\n\t\t')
											PsiElement(})('}')
											PsiWhiteSpace(' ')
											Else
												PsiElement(else)('else')
												PsiWhiteSpace(' ')
												PsiElement({)('{')
												PsiWhiteSpace('\n\t\t\t')
												Group statement
													Statement
														Echo
															PsiElement(echo)('echo')
															PsiWhiteSpace(' ')
															Method reference
																Variable
																	PsiElement(variable)('$this')
																PsiElement(arrow)('->')
																PsiElement(identifier)('getResourceValue')
																PsiElement(()('(')
																Parameter list
																	String
																		PsiElement(single quoted string)(''UploadFileNotFound'')
																PsiElement())(')')
															PsiElement(semicolon)(';')
												PsiWhiteSpace('\n\t\t')
												PsiElement(})('}')
									PsiWhiteSpace('\n        ')
									PsiElement(php closing tag)('?>')
									HTML
										PsiElement(html)('</div>')
									PsiElement(php opening tag)('<?')
									PsiWhiteSpace('\n\t\t')
									Statement
										Return
											PsiElement(return)('return')
											PsiWhiteSpace(' ')
											Constant
												PsiElement(identifier)('true')
											PsiElement(semicolon)(';')
								PsiWhiteSpace('\n\t')
								PsiElement(})('}')
							PsiWhiteSpace(' ')
							Elseif
								PsiElement(elseif)('elseif')
								PsiWhiteSpace(' ')
								PsiElement(()('(')
								Array
									Variable
										PsiElement(variable)('$_POST')
									PsiElement([)('[')
									Array index
										String
											PsiElement(single quoted string)(''remove'')
									PsiElement(])(']')
								PsiElement())(')')
								PsiWhiteSpace(' ')
								PsiElement({)('{')
								PsiWhiteSpace('\n\t\t')
								PsiComment(line comment)('// delete')
								PsiWhiteSpace('\n\t\t')
								PsiComment(line comment)('// 1. where, existence')
								PsiWhiteSpace('\n\t\t')
								Group statement
									Statement
										If
											PsiElement(if)('if')
											PsiWhiteSpace(' ')
											PsiElement(()('(')
											Equality expression
												Array
													Variable
														PsiElement(variable)('$_POST')
													PsiElement([)('[')
													Array index
														String
															PsiElement(single quoted string)(''remove'')
													PsiElement(])(']')
												PsiWhiteSpace(' ')
												PsiElement(equals)('==')
												PsiWhiteSpace(' ')
												String
													PsiElement(single quoted string)(''global'')
											PsiElement())(')')
											PsiWhiteSpace(' ')
											PsiElement({)('{')
											PsiWhiteSpace('\n\t\t\t')
											Group statement
												Statement
													Assignment expression
														Variable
															PsiElement(variable)('$page_id')
														PsiWhiteSpace(' ')
														PsiElement(assign)('=')
														PsiWhiteSpace(' ')
														Number
															PsiElement(integer)('0')
													PsiElement(semicolon)(';')
											PsiWhiteSpace('\n\t\t')
											PsiElement(})('}')
											PsiWhiteSpace(' ')
											Else
												PsiElement(else)('else')
												PsiWhiteSpace(' ')
												PsiElement({)('{')
												PsiWhiteSpace('\n\t\t\t')
												Group statement
													Statement
														Assignment expression
															Variable
																PsiElement(variable)('$page_id')
															PsiWhiteSpace(' ')
															PsiElement(assign)('=')
															PsiWhiteSpace(' ')
															Field reference
																Variable
																	PsiElement(variable)('$this')
																PsiElement(arrow)('->')
																Field reference
																	PsiElement(identifier)('page')
																PsiElement([)('[')
																Array index
																	String
																		PsiElement(single quoted string)(''id'')
																PsiElement(])(']')
														PsiElement(semicolon)(';')
												PsiWhiteSpace('\n\t\t')
												PsiElement(})('}')
									PsiWhiteSpace('\n\t\t')
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$sql')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Additive expression
												Additive expression
													Additive expression
														Additive expression
															Additive expression
																Additive expression
																	Additive expression
																		String
																			PsiElement(single quoted string)(''SELECT user, id, filename, filesize, description FROM '')
																		PsiElement(dot)('.')
																		Field reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			Field reference
																				PsiElement(identifier)('config')
																			PsiElement([)('[')
																			Array index
																				String
																					PsiElement(single quoted string)(''table_prefix'')
																			PsiElement(])(']')
																	PsiElement(dot)('.')
																	String
																		PsiElement(single quoted string)(''upload'')
																PsiElement(dot)('.')
																PsiWhiteSpace('\n\t\t\t\t')
																String
																	PsiElement(string)('" WHERE page_id='"')
															PsiElement(dot)('.')
															Function call
																PsiElement(identifier)('quote')
																PsiElement(()('(')
																Parameter list
																	Variable
																		PsiElement(variable)('$page_id')
																PsiElement())(')')
														PsiElement(dot)('.')
														String
															PsiElement(string)('"' AND filename='"')
													PsiElement(dot)('.')
													Function call
														PsiElement(identifier)('quote')
														PsiElement(()('(')
														Parameter list
															Array
																Variable
																	PsiElement(variable)('$_POST')
																PsiElement([)('[')
																Array index
																	String
																		PsiElement(string)('"file"')
																PsiElement(])(']')
														PsiElement())(')')
												PsiElement(dot)('.')
												String
													PsiElement(string)('"'"')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$what')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Method reference
												Variable
													PsiElement(variable)('$this')
												PsiElement(arrow)('->')
												PsiElement(identifier)('LoadAll')
												PsiElement(()('(')
												Parameter list
													Variable
														PsiElement(variable)('$sql')
												PsiElement())(')')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										If
											PsiElement(if)('if')
											PsiWhiteSpace(' ')
											PsiElement(()('(')
											Relational expression
												Function call
													PsiElement(identifier)('sizeof')
													PsiElement(()('(')
													Parameter list
														Variable
															PsiElement(variable)('$what')
													PsiElement())(')')
												PsiWhiteSpace(' ')
												PsiElement(greater than)('>')
												PsiWhiteSpace(' ')
												Number
													PsiElement(integer)('0')
											PsiElement())(')')
											PsiWhiteSpace(' ')
											PsiElement({)('{')
											PsiWhiteSpace('\n\t\t\t')
											Group statement
												Statement
													If
														PsiElement(if)('if')
														PsiWhiteSpace(' ')
														PsiElement(()('(')
														Logical expression
															Logical expression
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('isAdmin')
																	PsiElement(()('(')
																	Parameter list
																		<empty list>
																	PsiElement())(')')
																PsiWhiteSpace(' ')
																PsiElement(or)('||')
																PsiWhiteSpace(' ')
																PsiElement(()('(')
																Logical expression
																	Variable
																		PsiElement(variable)('$page_id')
																	PsiWhiteSpace(' ')
																	PsiElement(and)('&&')
																	PsiWhiteSpace(' ')
																	PsiElement(()('(')
																	Equality expression
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getPageOwner')
																			PsiElement(()('(')
																			Parameter list
																				Field reference
																					Variable
																						PsiElement(variable)('$this')
																					PsiElement(arrow)('->')
																					PsiElement(identifier)('tag')
																			PsiElement())(')')
																		PsiElement(equals)('==')
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getUserName')
																			PsiElement(()('(')
																			Parameter list
																				<empty list>
																			PsiElement())(')')
																	PsiElement())(')')
																PsiElement())(')')
															PsiWhiteSpace('\n\t\t\t\t')
															PsiElement(or)('||')
															PsiWhiteSpace(' ')
															PsiElement(()('(')
															Equality expression
																Array
																	Array
																		Variable
																			PsiElement(variable)('$what')
																		PsiElement([)('[')
																		Array index
																			Number
																				PsiElement(integer)('0')
																		PsiElement(])(']')
																	PsiElement([)('[')
																	Array index
																		String
																			PsiElement(single quoted string)(''user'')
																	PsiElement(])(']')
																PsiElement(equals)('==')
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('getUserName')
																	PsiElement(()('(')
																	Parameter list
																		<empty list>
																	PsiElement())(')')
															PsiElement())(')')
														PsiElement())(')')
														PsiWhiteSpace('\n            ')
														PsiElement({)('{')
														PsiWhiteSpace('\n\t\t\t\t')
														PsiComment(line comment)('// 2. remove from DB')
														PsiWhiteSpace('\n\t\t\t\t')
														Group statement
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$sql')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Additive expression
																		Additive expression
																			Additive expression
																				Additive expression
																					String
																						PsiElement(single quoted string)(''DELETE FROM '')
																					PsiElement(dot)('.')
																					Field reference
																						Variable
																							PsiElement(variable)('$this')
																						PsiElement(arrow)('->')
																						Field reference
																							PsiElement(identifier)('config')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''table_prefix'')
																						PsiElement(])(']')
																				PsiElement(dot)('.')
																				String
																					PsiElement(string)('"upload WHERE id='"')
																			PsiElement(dot)('.')
																			Function call
																				PsiElement(identifier)('quote')
																				PsiElement(()('(')
																				Parameter list
																					Array
																						Array
																							Variable
																								PsiElement(variable)('$what')
																							PsiElement([)('[')
																							Array index
																								Number
																									PsiElement(integer)('0')
																							PsiElement(])(']')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(string)('"id"')
																						PsiElement(])(']')
																				PsiElement())(')')
																		PsiElement(dot)('.')
																		String
																			PsiElement(string)('"'"')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Method reference
																	Variable
																		PsiElement(variable)('$this')
																	PsiElement(arrow)('->')
																	PsiElement(identifier)('query')
																	PsiElement(()('(')
																	Parameter list
																		Variable
																			PsiElement(variable)('$sql')
																	PsiElement())(')')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Echo
																	PsiElement(echo)('echo')
																	PsiWhiteSpace(' ')
																	Additive expression
																		Additive expression
																			String
																				PsiElement(single quoted string)(''<div>'')
																			PsiElement(dot)('.')
																			Method reference
																				Variable
																					PsiElement(variable)('$this')
																				PsiElement(arrow)('->')
																				PsiElement(identifier)('getResourceValue')
																				PsiElement(()('(')
																				Parameter list
																					String
																						PsiElement(single quoted string)(''UploadRemovedFromDB'')
																				PsiElement())(')')
																		PsiElement(dot)('.')
																		String
																			PsiElement(single quoted string)(''</div>'')
																	PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															PsiComment(line comment)('// 3. remove from FS')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$real_filename')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Additive expression
																		PsiElement(()('(')
																		Ternary expression
																			Variable
																				PsiElement(variable)('$page_id')
																			PsiWhiteSpace(' ')
																			PsiElement(ternary)('?')
																			PsiWhiteSpace(' ')
																			Additive expression
																				Additive expression
																					Additive expression
																						Field reference
																							Variable
																								PsiElement(variable)('$this')
																							PsiElement(arrow)('->')
																							Field reference
																								PsiElement(identifier)('config')
																							PsiElement([)('[')
																							Array index
																								String
																									PsiElement(single quoted string)(''upload_path_per_page'')
																							PsiElement(])(']')
																						PsiElement(dot)('.')
																						String
																							PsiElement(single quoted string)(''/@'')
																					PsiElement(dot)('.')
																					Function call
																						PsiElement(identifier)('str_replace')
																						PsiElement(()('(')
																						Parameter list
																							String
																								PsiElement(single quoted string)(''/'')
																							PsiElement(comma)(',')
																							PsiWhiteSpace(' ')
																							String
																								PsiElement(single quoted string)(''@'')
																							PsiElement(comma)(',')
																							PsiWhiteSpace(' ')
																							Field reference
																								Variable
																									PsiElement(variable)('$this')
																								PsiElement(arrow)('->')
																								PsiElement(identifier)('supertag')
																						PsiElement())(')')
																				PsiElement(dot)('.')
																				String
																					PsiElement(single quoted string)(''@'')
																			PsiWhiteSpace(' ')
																			PsiElement(colon)(':')
																			PsiWhiteSpace(' ')
																			Additive expression
																				Field reference
																					Variable
																						PsiElement(variable)('$this')
																					PsiElement(arrow)('->')
																					Field reference
																						PsiElement(identifier)('config')
																					PsiElement([)('[')
																					Array index
																						String
																							PsiElement(single quoted string)(''upload_path'')
																					PsiElement(])(']')
																				PsiElement(dot)('.')
																				String
																					PsiElement(single quoted string)(''/'')
																		PsiElement())(')')
																		PsiWhiteSpace(' ')
																		PsiElement(dot)('.')
																		Array
																			Array
																				Variable
																					PsiElement(variable)('$what')
																				PsiElement([)('[')
																				Array index
																					Number
																						PsiElement(integer)('0')
																				PsiElement(])(']')
																			PsiElement([)('[')
																			Array index
																				String
																					PsiElement(string)('"filename"')
																			PsiElement(])(']')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																If
																	PsiElement(if)('if')
																	PsiWhiteSpace(' ')
																	PsiElement(()('(')
																	Silence expression
																		PsiElement(error silence)('@')
																		Function call
																			PsiElement(identifier)('unlink')
																			PsiElement(()('(')
																			Parameter list
																				Variable
																					PsiElement(variable)('$real_filename')
																			PsiElement())(')')
																	PsiElement())(')')
																	PsiWhiteSpace(' ')
																	PsiElement({)('{')
																	PsiWhiteSpace('\n\t\t\t\t\t')
																	Group statement
																		Statement
																			Echo
																				PsiElement(echo)('echo')
																				PsiWhiteSpace(' ')
																				Additive expression
																					Additive expression
																						String
																							PsiElement(single quoted string)(''<div>'')
																						PsiElement(dot)('.')
																						Method reference
																							Variable
																								PsiElement(variable)('$this')
																							PsiElement(arrow)('->')
																							PsiElement(identifier)('getResourceValue')
																							PsiElement(()('(')
																							Parameter list
																								String
																									PsiElement(single quoted string)(''UploadRemovedFromFS'')
																							PsiElement())(')')
																					PsiElement(dot)('.')
																					String
																						PsiElement(single quoted string)(''</div><br /><br />'')
																				PsiElement(semicolon)(';')
																	PsiWhiteSpace('\n\t\t\t\t')
																	PsiElement(})('}')
																	PsiWhiteSpace(' ')
																	Else
																		PsiElement(else)('else')
																		PsiWhiteSpace(' ')
																		PsiElement({)('{')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Group statement
																			Statement
																				Echo
																					PsiElement(echo)('echo')
																					PsiWhiteSpace(' ')
																					Additive expression
																						Additive expression
																							String
																								PsiElement(single quoted string)(''<div style="color:#ff0000">'')
																							PsiElement(dot)('.')
																							Method reference
																								Variable
																									PsiElement(variable)('$this')
																								PsiElement(arrow)('->')
																								PsiElement(identifier)('getResourceValue')
																								PsiElement(()('(')
																								Parameter list
																									String
																										PsiElement(single quoted string)(''UploadRemovedFromFSError'')
																								PsiElement())(')')
																						PsiElement(dot)('.')
																						String
																							PsiElement(single quoted string)(''</div><br /><br />'')
																					PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\t\t\t\t')
																		PsiElement(})('}')
														PsiWhiteSpace('\n\t\t\t')
														PsiElement(})('}')
														PsiWhiteSpace(' ')
														Else
															PsiElement(else)('else')
															PsiWhiteSpace(' ')
															PsiElement({)('{')
															PsiWhiteSpace('\n\t\t\t\t')
															Group statement
																Statement
																	Echo
																		PsiElement(echo)('echo')
																		PsiWhiteSpace(' ')
																		Method reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			PsiElement(identifier)('getResourceValue')
																			PsiElement(()('(')
																			Parameter list
																				String
																					PsiElement(single quoted string)(''UploadRemoveDenied'')
																			PsiElement())(')')
																		PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t')
															PsiElement(})('}')
											PsiWhiteSpace('\n\t\t')
											PsiElement(})('}')
											PsiWhiteSpace(' ')
											Else
												PsiElement(else)('else')
												PsiWhiteSpace(' ')
												PsiElement({)('{')
												PsiWhiteSpace('\n\t\t\t')
												Group statement
													Statement
														Echo
															PsiElement(echo)('echo')
															PsiWhiteSpace(' ')
															Method reference
																Variable
																	PsiElement(variable)('$this')
																PsiElement(arrow)('->')
																PsiElement(identifier)('getResourceValue')
																PsiElement(()('(')
																Parameter list
																	String
																		PsiElement(single quoted string)(''UploadRemoveNotFound'')
																PsiElement())(')')
															PsiElement(semicolon)(';')
												PsiWhiteSpace('\n\t\t')
												PsiElement(})('}')
								PsiWhiteSpace('\n\t')
								PsiElement(})('}')
							PsiWhiteSpace(' ')
							Else
								PsiElement(else)('else')
								PsiWhiteSpace(' ')
								PsiElement({)('{')
								PsiWhiteSpace('\n\t\t')
								Group statement
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$user')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Method reference
												Variable
													PsiElement(variable)('$this')
												PsiElement(arrow)('->')
												PsiElement(identifier)('getUser')
												PsiElement(()('(')
												Parameter list
													<empty list>
												PsiElement())(')')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$sql')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Additive expression
												Additive expression
													Additive expression
														Additive expression
															String
																PsiElement(single quoted string)(''SELECT id FROM '')
															PsiElement(dot)('.')
															Field reference
																Variable
																	PsiElement(variable)('$this')
																PsiElement(arrow)('->')
																Field reference
																	PsiElement(identifier)('config')
																PsiElement([)('[')
																Array index
																	String
																		PsiElement(single quoted string)(''table_prefix'')
																PsiElement(])(']')
														PsiElement(dot)('.')
														String
															PsiElement(string)('"upload WHERE user='"')
													PsiElement(dot)('.')
													Function call
														PsiElement(identifier)('quote')
														PsiElement(()('(')
														Parameter list
															Array
																Variable
																	PsiElement(variable)('$user')
																PsiElement([)('[')
																Array index
																	String
																		PsiElement(single quoted string)(''name'')
																PsiElement(])(']')
														PsiElement())(')')
												PsiElement(dot)('.')
												String
													PsiElement(string)('"'"')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										Assignment expression
											Variable
												PsiElement(variable)('$files')
											PsiWhiteSpace(' ')
											PsiElement(assign)('=')
											PsiWhiteSpace(' ')
											Method reference
												Variable
													PsiElement(variable)('$this')
												PsiElement(arrow)('->')
												PsiElement(identifier)('loadAll')
												PsiElement(()('(')
												Parameter list
													Variable
														PsiElement(variable)('$sql')
												PsiElement())(')')
										PsiElement(semicolon)(';')
									PsiWhiteSpace('\n\t\t')
									Statement
										If
											PsiElement(if)('if')
											PsiWhiteSpace(' ')
											PsiElement(()('(')
											Logical expression
												Unary expression
													PsiElement(not)('!')
													Field reference
														Variable
															PsiElement(variable)('$this')
														PsiElement(arrow)('->')
														Field reference
															PsiElement(identifier)('config')
														PsiElement([)('[')
														Array index
															String
																PsiElement(single quoted string)(''upload_max_per_user'')
														PsiElement(])(']')
												PsiWhiteSpace(' ')
												PsiElement(or)('||')
												PsiWhiteSpace(' ')
												PsiElement(()('(')
												Relational expression
													Function call
														PsiElement(identifier)('sizeof')
														PsiElement(()('(')
														Parameter list
															Variable
																PsiElement(variable)('$files')
														PsiElement())(')')
													PsiWhiteSpace(' ')
													PsiElement(less than)('<')
													PsiWhiteSpace(' ')
													Field reference
														Variable
															PsiElement(variable)('$this')
														PsiElement(arrow)('->')
														Field reference
															PsiElement(identifier)('config')
														PsiElement([)('[')
														Array index
															String
																PsiElement(single quoted string)(''upload_max_per_user'')
														PsiElement(])(']')
												PsiElement())(')')
											PsiElement())(')')
											PsiWhiteSpace(' ')
											PsiElement({)('{')
											PsiWhiteSpace('\n\t\t\t')
											Group statement
												Statement
													If
														PsiElement(if)('if')
														PsiWhiteSpace(' ')
														PsiElement(()('(')
														Function call
															PsiElement(identifier)('is_uploaded_file')
															PsiElement(()('(')
															Parameter list
																Array
																	Array
																		Variable
																			PsiElement(variable)('$_FILES')
																		PsiElement([)('[')
																		Array index
																			String
																				PsiElement(single quoted string)(''file'')
																		PsiElement(])(']')
																	PsiElement([)('[')
																	Array index
																		String
																			PsiElement(single quoted string)(''tmp_name'')
																	PsiElement(])(']')
															PsiElement())(')')
														PsiElement())(')')
														PsiWhiteSpace(' ')
														PsiElement({)('{')
														PsiWhiteSpace('\n\t\t\t\t')
														PsiComment(line comment)('// there is file')
														PsiWhiteSpace('\n\t\t\t\t')
														PsiComment(line comment)('// 1. check out $data')
														PsiWhiteSpace('\n\t\t\t\t')
														Group statement
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$_data')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Function call
																		PsiElement(identifier)('explode')
																		PsiElement(()('(')
																		Parameter list
																			String
																				PsiElement(single quoted string)(''.'')
																			PsiElement(comma)(',')
																			PsiWhiteSpace(' ')
																			Array
																				Array
																					Variable
																						PsiElement(variable)('$_FILES')
																					PsiElement([)('[')
																					Array index
																						String
																							PsiElement(single quoted string)(''file'')
																					PsiElement(])(']')
																				PsiElement([)('[')
																				Array index
																					String
																						PsiElement(single quoted string)(''name'')
																				PsiElement(])(']')
																		PsiElement())(')')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$ext')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Array
																		Variable
																			PsiElement(variable)('$_data')
																		PsiElement([)('[')
																		Array index
																			Additive expression
																				Function call
																					PsiElement(identifier)('sizeof')
																					PsiElement(()('(')
																					Parameter list
																						Variable
																							PsiElement(variable)('$_data')
																					PsiElement())(')')
																				PsiElement(minus)('-')
																				Number
																					PsiElement(integer)('1')
																		PsiElement(])(']')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Unset
																	PsiElement(unset)('unset')
																	PsiElement(()('(')
																	Variable
																		PsiElement(variable)('$_data')
																	PsiElement([)('[')
																	PsiWhiteSpace(' ')
																	Array index
																		Additive expression
																			Function call
																				PsiElement(identifier)('sizeof')
																				PsiElement(()('(')
																				Parameter list
																					Variable
																						PsiElement(variable)('$_data')
																				PsiElement())(')')
																			PsiElement(minus)('-')
																			Number
																				PsiElement(integer)('1')
																	PsiElement(])(']')
																	PsiElement())(')')
																	PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$name')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Function call
																		PsiElement(identifier)('implode')
																		PsiElement(()('(')
																		Parameter list
																			String
																				PsiElement(single quoted string)(''.'')
																			PsiElement(comma)(',')
																			PsiWhiteSpace(' ')
																			Variable
																				PsiElement(variable)('$_data')
																		PsiElement())(')')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$name')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Function call
																		PsiElement(identifier)('str_replace')
																		PsiElement(()('(')
																		Parameter list
																			String
																				PsiElement(single quoted string)(''@'')
																			PsiElement(comma)(',')
																			PsiWhiteSpace(' ')
																			String
																				PsiElement(single quoted string)(''_'')
																			PsiElement(comma)(',')
																			PsiWhiteSpace(' ')
																			Variable
																				PsiElement(variable)('$name')
																		PsiElement())(')')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\n\t\t\t\t')
															PsiComment(line comment)('// here would be place for translit')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$name')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Method reference
																		Variable
																			PsiElement(variable)('$this')
																		PsiElement(arrow)('->')
																		PsiElement(identifier)('format')
																		PsiElement(()('(')
																		Parameter list
																			Variable
																				PsiElement(variable)('$name')
																			PsiElement(comma)(',')
																			PsiWhiteSpace(' ')
																			String
																				PsiElement(single quoted string)(''translit'')
																		PsiElement())(')')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\n\t\t\t\t')
															PsiComment(line comment)('// 1.5. +write @PageSupertag@SubPage@ to name')
															PsiWhiteSpace('\n                ')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$name')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Additive expression
																		Additive expression
																			Additive expression
																				String
																					PsiElement(single quoted string)(''@'')
																				PsiWhiteSpace(' ')
																				PsiElement(dot)('.')
																				PsiWhiteSpace(' ')
																				Function call
																					PsiElement(identifier)('str_replace')
																					PsiElement(()('(')
																					Parameter list
																						String
																							PsiElement(single quoted string)(''/'')
																						PsiElement(comma)(',')
																						PsiWhiteSpace(' ')
																						String
																							PsiElement(single quoted string)(''@'')
																						PsiElement(comma)(',')
																						PsiWhiteSpace(' ')
																						Field reference
																							Variable
																								PsiElement(variable)('$this')
																							PsiElement(arrow)('->')
																							Field reference
																								PsiElement(identifier)('page')
																							PsiElement([)('[')
																							Array index
																								String
																									PsiElement(single quoted string)(''supertag'')
																							PsiElement(])(']')
																					PsiElement())(')')
																			PsiWhiteSpace(' ')
																			PsiElement(dot)('.')
																			PsiWhiteSpace(' ')
																			String
																				PsiElement(single quoted string)(''@'')
																		PsiWhiteSpace(' ')
																		PsiElement(dot)('.')
																		PsiWhiteSpace(' ')
																		Variable
																			PsiElement(variable)('$name')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\n                ')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$dir')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Additive expression
																		Field reference
																			Variable
																				PsiElement(variable)('$this')
																			PsiElement(arrow)('->')
																			Field reference
																				PsiElement(identifier)('config')
																			PsiElement([)('[')
																			Array index
																				String
																					PsiElement(single quoted string)(''upload_path_per_page'')
																			PsiElement(])(']')
																		PsiWhiteSpace(' ')
																		PsiElement(dot)('.')
																		PsiWhiteSpace(' ')
																		String
																			PsiElement(single quoted string)(''/'')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$_name')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Variable
																		PsiElement(variable)('$name')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$count')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Number
																		PsiElement(integer)('1')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																While
																	PsiElement(while)('while')
																	PsiWhiteSpace(' ')
																	PsiElement(()('(')
																	Function call
																		PsiElement(identifier)('file_exists')
																		PsiElement(()('(')
																		Parameter list
																			Additive expression
																				Additive expression
																					Additive expression
																						Variable
																							PsiElement(variable)('$dir')
																						PsiWhiteSpace(' ')
																						PsiElement(dot)('.')
																						PsiWhiteSpace(' ')
																						Variable
																							PsiElement(variable)('$name')
																					PsiWhiteSpace(' ')
																					PsiElement(dot)('.')
																					PsiWhiteSpace(' ')
																					String
																						PsiElement(single quoted string)(''.'')
																				PsiWhiteSpace(' ')
																				PsiElement(dot)('.')
																				PsiWhiteSpace(' ')
																				Variable
																					PsiElement(variable)('$ext')
																		PsiElement())(')')
																	PsiElement())(')')
																	PsiWhiteSpace(' ')
																	PsiElement({)('{')
																	PsiWhiteSpace('\n\t\t\t\t\t')
																	Group statement
																		Statement
																			If
																				PsiElement(if)('if')
																				PsiWhiteSpace(' ')
																				PsiElement(()('(')
																				Equality expression
																					Variable
																						PsiElement(variable)('$name')
																					PsiWhiteSpace(' ')
																					PsiElement(identical)('===')
																					PsiWhiteSpace(' ')
																					Variable
																						PsiElement(variable)('$_name')
																				PsiElement())(')')
																				PsiWhiteSpace(' ')
																				PsiElement({)('{')
																				PsiWhiteSpace('\n\t\t\t\t\t\t')
																				Group statement
																					Statement
																						Assignment expression
																							Variable
																								PsiElement(variable)('$name')
																							PsiWhiteSpace(' ')
																							PsiElement(assign)('=')
																							PsiWhiteSpace(' ')
																							Additive expression
																								Variable
																									PsiElement(variable)('$_name')
																								PsiWhiteSpace(' ')
																								PsiElement(dot)('.')
																								PsiWhiteSpace(' ')
																								Variable
																									PsiElement(variable)('$count')
																						PsiElement(semicolon)(';')
																				PsiWhiteSpace('\n\t\t\t\t\t')
																				PsiElement(})('}')
																				PsiWhiteSpace(' ')
																				Else
																					PsiElement(else)('else')
																					PsiWhiteSpace(' ')
																					PsiElement({)('{')
																					PsiWhiteSpace('\n\t\t\t\t\t\t')
																					Group statement
																						Statement
																							Assignment expression
																								Variable
																									PsiElement(variable)('$name')
																								PsiWhiteSpace(' ')
																								PsiElement(assign)('=')
																								PsiWhiteSpace(' ')
																								Additive expression
																									Variable
																										PsiElement(variable)('$_name')
																									PsiWhiteSpace(' ')
																									PsiElement(dot)('.')
																									PsiWhiteSpace(' ')
																									PsiElement(()('(')
																									Unary expression
																										PsiElement(increment)('++')
																										Variable
																											PsiElement(variable)('$count')
																									PsiElement())(')')
																							PsiElement(semicolon)(';')
																					PsiWhiteSpace('\n\t\t\t\t\t')
																					PsiElement(})('}')
																	PsiWhiteSpace('\n\t\t\t\t')
																	PsiElement(})('}')
															PsiWhiteSpace('\n\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$result_name')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Additive expression
																		Additive expression
																			Variable
																				PsiElement(variable)('$name')
																			PsiWhiteSpace(' ')
																			PsiElement(dot)('.')
																			PsiWhiteSpace(' ')
																			String
																				PsiElement(single quoted string)(''.'')
																		PsiWhiteSpace(' ')
																		PsiElement(dot)('.')
																		PsiWhiteSpace(' ')
																		Variable
																			PsiElement(variable)('$ext')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$file_size')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Array
																		Array
																			Variable
																				PsiElement(variable)('$_FILES')
																			PsiElement([)('[')
																			Array index
																				String
																					PsiElement(single quoted string)(''file'')
																			PsiElement(])(']')
																		PsiElement([)('[')
																		Array index
																			String
																				PsiElement(single quoted string)(''size'')
																		PsiElement(])(']')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\n\t\t\t\t')
															PsiComment(line comment)('// 1.6. check filesize, if asked')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																Assignment expression
																	Variable
																		PsiElement(variable)('$maxfilesize')
																	PsiWhiteSpace(' ')
																	PsiElement(assign)('=')
																	PsiWhiteSpace(' ')
																	Field reference
																		Variable
																			PsiElement(variable)('$this')
																		PsiElement(arrow)('->')
																		Field reference
																			PsiElement(identifier)('config')
																		PsiElement([)('[')
																		Array index
																			String
																				PsiElement(single quoted string)(''upload_max_size'')
																		PsiElement(])(']')
																PsiElement(semicolon)(';')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																If
																	PsiElement(if)('if')
																	PsiWhiteSpace(' ')
																	PsiElement(()('(')
																	Logical expression
																		Array
																			Variable
																				PsiElement(variable)('$_POST')
																			PsiElement([)('[')
																			Array index
																				String
																					PsiElement(single quoted string)(''maxsize'')
																			PsiElement(])(']')
																		PsiWhiteSpace(' ')
																		PsiElement(and)('&&')
																		PsiWhiteSpace(' ')
																		Relational expression
																			Variable
																				PsiElement(variable)('$maxfilesize')
																			PsiWhiteSpace(' ')
																			PsiElement(greater than)('>')
																			PsiWhiteSpace(' ')
																			Multiplicative expression
																				Number
																					PsiElement(integer)('1')
																				PsiWhiteSpace(' ')
																				PsiElement(multiply)('*')
																				PsiWhiteSpace(' ')
																				Array
																					Variable
																						PsiElement(variable)('$_POST')
																					PsiElement([)('[')
																					Array index
																						String
																							PsiElement(single quoted string)(''maxsize'')
																					PsiElement(])(']')
																	PsiElement())(')')
																	PsiWhiteSpace(' ')
																	PsiElement({)('{')
																	PsiWhiteSpace('\n\t\t\t\t\t')
																	Group statement
																		Statement
																			Assignment expression
																				Variable
																					PsiElement(variable)('$maxfilesize')
																				PsiWhiteSpace(' ')
																				PsiElement(assign)('=')
																				PsiWhiteSpace(' ')
																				Multiplicative expression
																					Number
																						PsiElement(integer)('1')
																					PsiWhiteSpace(' ')
																					PsiElement(multiply)('*')
																					PsiWhiteSpace(' ')
																					Array
																						Variable
																							PsiElement(variable)('$_POST')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''maxsize'')
																						PsiElement(])(']')
																			PsiElement(semicolon)(';')
																	PsiWhiteSpace('\n\t\t\t\t')
																	PsiElement(})('}')
															PsiWhiteSpace('\n\t\t\t\t')
															Statement
																If
																	PsiElement(if)('if')
																	PsiWhiteSpace(' ')
																	PsiElement(()('(')
																	Relational expression
																		Variable
																			PsiElement(variable)('$file_size')
																		PsiWhiteSpace(' ')
																		PsiElement(less than)('<')
																		PsiWhiteSpace(' ')
																		Multiplicative expression
																			Variable
																				PsiElement(variable)('$maxfilesize')
																			PsiWhiteSpace(' ')
																			PsiElement(multiply)('*')
																			PsiWhiteSpace(' ')
																			Number
																				PsiElement(integer)('1024')
																	PsiElement())(')')
																	PsiWhiteSpace(' ')
																	PsiElement({)('{')
																	PsiWhiteSpace('\n\t\t\t\t\t')
																	PsiComment(line comment)('// 1.7. check is image, if asked')
																	PsiWhiteSpace('\n\t\t\t\t\t')
																	Group statement
																		Statement
																			Assignment expression
																				Variable
																					PsiElement(variable)('$forbid')
																				PsiWhiteSpace(' ')
																				PsiElement(assign)('=')
																				PsiWhiteSpace(' ')
																				Number
																					PsiElement(integer)('0')
																			PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Statement
																			Assignment expression
																				Variable
																					PsiElement(variable)('$size')
																				PsiWhiteSpace(' ')
																				PsiElement(assign)('=')
																				PsiWhiteSpace(' ')
																				Array
																					PsiElement(array)('array')
																					PsiElement(()('(')
																					Array value
																						Number
																							PsiElement(integer)('0')
																					PsiElement(comma)(',')
																					PsiWhiteSpace(' ')
																					Array value
																						Number
																							PsiElement(integer)('0')
																					PsiElement())(')')
																			PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Statement
																			Assignment expression
																				Variable
																					PsiElement(variable)('$src')
																				PsiWhiteSpace(' ')
																				PsiElement(assign)('=')
																				PsiWhiteSpace(' ')
																				Array
																					Array
																						Variable
																							PsiElement(variable)('$_FILES')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''file'')
																						PsiElement(])(']')
																					PsiElement([)('[')
																					Array index
																						String
																							PsiElement(single quoted string)(''tmp_name'')
																					PsiElement(])(']')
																			PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Statement
																			Assignment expression
																				Variable
																					PsiElement(variable)('$size')
																				PsiWhiteSpace(' ')
																				PsiElement(assign)('=')
																				PsiWhiteSpace(' ')
																				Silence expression
																					PsiElement(error silence)('@')
																					Function call
																						PsiElement(identifier)('getimagesize')
																						PsiElement(()('(')
																						Parameter list
																							Variable
																								PsiElement(variable)('$src')
																						PsiElement())(')')
																			PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\n\t\t\t\t\t')
																		Statement
																			If
																				PsiElement(if)('if')
																				PsiWhiteSpace(' ')
																				PsiElement(()('(')
																				Logical expression
																					Field reference
																						Variable
																							PsiElement(variable)('$this')
																						PsiElement(arrow)('->')
																						Field reference
																							PsiElement(identifier)('config')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''upload_images_only'')
																						PsiElement(])(']')
																					PsiWhiteSpace(' ')
																					PsiElement(and)('&&')
																					PsiWhiteSpace(' ')
																					Equality expression
																						Array
																							Variable
																								PsiElement(variable)('$size')
																							PsiElement([)('[')
																							Array index
																								Number
																									PsiElement(integer)('0')
																							PsiElement(])(']')
																						PsiWhiteSpace(' ')
																						PsiElement(equals)('==')
																						PsiWhiteSpace(' ')
																						Number
																							PsiElement(integer)('0')
																				PsiElement())(')')
																				PsiWhiteSpace(' ')
																				PsiElement({)('{')
																				PsiWhiteSpace('\n\t\t\t\t\t\t')
																				Group statement
																					Statement
																						Assignment expression
																							Variable
																								PsiElement(variable)('$forbid')
																							PsiWhiteSpace(' ')
																							PsiElement(assign)('=')
																							PsiWhiteSpace(' ')
																							Number
																								PsiElement(integer)('1')
																						PsiElement(semicolon)(';')
																				PsiWhiteSpace('\n\t\t\t\t\t')
																				PsiElement(})('}')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Statement
																			If
																				PsiElement(if)('if')
																				PsiWhiteSpace(' ')
																				PsiElement(()('(')
																				Logical expression
																					Isset function
																						PsiElement(isset keyword)('isset')
																						PsiElement(()('(')
																						Variable
																							PsiElement(variable)('$size')
																						PsiElement([)('[')
																						Array index
																							Number
																								PsiElement(integer)('2')
																						PsiElement(])(']')
																						PsiElement())(')')
																					PsiWhiteSpace(' ')
																					PsiElement(and)('&&')
																					PsiWhiteSpace(' ')
																					PsiElement(()('(')
																					Logical expression
																						Relational expression
																							Array
																								Variable
																									PsiElement(variable)('$size')
																								PsiElement([)('[')
																								Array index
																									Number
																										PsiElement(integer)('2')
																								PsiElement(])(']')
																							PsiWhiteSpace(' ')
																							PsiElement(less than)('<')
																							PsiWhiteSpace(' ')
																							Number
																								PsiElement(integer)('1')
																						PsiWhiteSpace(' ')
																						PsiElement(or)('||')
																						PsiWhiteSpace(' ')
																						Relational expression
																							Array
																								Variable
																									PsiElement(variable)('$size')
																								PsiElement([)('[')
																								Array index
																									Number
																										PsiElement(integer)('2')
																								PsiElement(])(']')
																							PsiWhiteSpace(' ')
																							PsiElement(greater than)('>')
																							PsiWhiteSpace(' ')
																							Number
																								PsiElement(integer)('3')
																					PsiElement())(')')
																				PsiElement())(')')
																				PsiWhiteSpace(' ')
																				PsiElement({)('{')
																				PsiWhiteSpace('\n\t\t\t\t\t\t')
																				Group statement
																					Statement
																						Assignment expression
																							Array
																								Variable
																									PsiElement(variable)('$size')
																								PsiElement([)('[')
																								Array index
																									Number
																										PsiElement(integer)('0')
																								PsiElement(])(']')
																							PsiWhiteSpace(' ')
																							PsiElement(assign)('=')
																							PsiWhiteSpace(' ')
																							Number
																								PsiElement(integer)('0')
																						PsiElement(semicolon)(';')
																					PsiWhiteSpace('\n\t\t\t\t\t\t')
																					Statement
																						Assignment expression
																							Array
																								Variable
																									PsiElement(variable)('$size')
																								PsiElement([)('[')
																								Array index
																									Number
																										PsiElement(integer)('1')
																								PsiElement(])(']')
																							PsiWhiteSpace(' ')
																							PsiElement(assign)('=')
																							PsiWhiteSpace(' ')
																							Number
																								PsiElement(integer)('0')
																						PsiElement(semicolon)(';')
																				PsiWhiteSpace('\n\t\t\t\t\t')
																				PsiElement(})('}')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Statement
																			If
																				PsiElement(if)('if')
																				PsiWhiteSpace(' ')
																				PsiElement(()('(')
																				Unary expression
																					PsiElement(not)('!')
																					Variable
																						PsiElement(variable)('$forbid')
																				PsiElement())(')')
																				PsiWhiteSpace(' ')
																				PsiElement({)('{')
																				PsiWhiteSpace('\n\t\t\t\t\t\t')
																				PsiComment(line comment)('// 3. save to permanent location')
																				PsiWhiteSpace('\n\t\t\t\t\t\t')
																				Group statement
																					Statement
																						If
																							PsiElement(if)('if')
																							PsiWhiteSpace(' ')
																							PsiElement(()('(')
																							Function call
																								PsiElement(identifier)('move_uploaded_file')
																								PsiElement(()('(')
																								Parameter list
																									Array
																										Array
																											Variable
																												PsiElement(variable)('$_FILES')
																											PsiElement([)('[')
																											Array index
																												String
																													PsiElement(single quoted string)(''file'')
																											PsiElement(])(']')
																										PsiElement([)('[')
																										Array index
																											String
																												PsiElement(single quoted string)(''tmp_name'')
																										PsiElement(])(']')
																									PsiElement(comma)(',')
																									PsiWhiteSpace(' ')
																									Additive expression
																										Variable
																											PsiElement(variable)('$dir')
																										PsiElement(dot)('.')
																										Variable
																											PsiElement(variable)('$result_name')
																								PsiElement())(')')
																							PsiElement())(')')
																							PsiWhiteSpace(' ')
																							PsiElement({)('{')
																							PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																							Group statement
																								Statement
																									Function call
																										PsiElement(identifier)('chmod')
																										PsiElement(()('(')
																										Parameter list
																											Additive expression
																												Variable
																													PsiElement(variable)('$dir')
																												PsiElement(dot)('.')
																												Variable
																													PsiElement(variable)('$result_name')
																											PsiElement(comma)(',')
																											PsiWhiteSpace(' ')
																											Number
																												PsiElement(integer)('0744')
																										PsiElement())(')')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\n                            ')
																								Statement
																									Assignment expression
																										Variable
																											PsiElement(variable)('$small_name')
																										PsiWhiteSpace(' ')
																										PsiElement(assign)('=')
																										PsiWhiteSpace(' ')
																										Function call
																											PsiElement(identifier)('explode')
																											PsiElement(()('(')
																											Parameter list
																												String
																													PsiElement(single quoted string)(''@'')
																												PsiElement(comma)(',')
																												PsiWhiteSpace(' ')
																												Variable
																													PsiElement(variable)('$result_name')
																											PsiElement())(')')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n                            ')
																								Statement
																									Assignment expression
																										Variable
																											PsiElement(variable)('$small_name')
																										PsiWhiteSpace(' ')
																										PsiElement(assign)('=')
																										PsiWhiteSpace(' ')
																										Array
																											Variable
																												PsiElement(variable)('$small_name')
																											PsiElement([)('[')
																											Array index
																												Additive expression
																													Function call
																														PsiElement(identifier)('sizeof')
																														PsiElement(()('(')
																														Parameter list
																															Variable
																																PsiElement(variable)('$small_name')
																														PsiElement())(')')
																													PsiElement(minus)('-')
																													Number
																														PsiElement(integer)('1')
																											PsiElement(])(']')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								Statement
																									Assignment expression
																										Variable
																											PsiElement(variable)('$description')
																										PsiWhiteSpace(' ')
																										PsiElement(assign)('=')
																										PsiWhiteSpace(' ')
																										Function call
																											PsiElement(identifier)('substr')
																											PsiElement(()('(')
																											Parameter list
																												Function call
																													PsiElement(identifier)('quote')
																													PsiElement(()('(')
																													Parameter list
																														Array
																															Variable
																																PsiElement(variable)('$_POST')
																															PsiElement([)('[')
																															Array index
																																String
																																	PsiElement(single quoted string)(''description'')
																															PsiElement(])(']')
																													PsiElement())(')')
																												PsiElement(comma)(',')
																												PsiWhiteSpace(' ')
																												Number
																													PsiElement(integer)('0')
																												PsiElement(comma)(',')
																												PsiWhiteSpace(' ')
																												Number
																													PsiElement(integer)('250')
																											PsiElement())(')')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								Statement
																									Assignment expression
																										Variable
																											PsiElement(variable)('$description')
																										PsiWhiteSpace(' ')
																										PsiElement(assign)('=')
																										PsiWhiteSpace(' ')
																										Function call
																											PsiElement(identifier)('rtrim')
																											PsiElement(()('(')
																											Parameter list
																												Variable
																													PsiElement(variable)('$description')
																												PsiElement(comma)(',')
																												PsiWhiteSpace(' ')
																												String
																													PsiElement(string)('"\\"')
																											PsiElement())(')')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\n\t\t\t\t\t\t\t')
																								PsiComment(line comment)('// 5. insert line into DB')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								Statement
																									Assignment expression
																										Variable
																											PsiElement(variable)('$sql')
																										PsiWhiteSpace(' ')
																										PsiElement(assign)('=')
																										PsiWhiteSpace(' ')
																										Additive expression
																											Additive expression
																												Additive expression
																													Additive expression
																														Additive expression
																															Additive expression
																																Additive expression
																																	Additive expression
																																		Additive expression
																																			Additive expression
																																				Additive expression
																																					Additive expression
																																						Additive expression
																																							Additive expression
																																								Additive expression
																																									Additive expression
																																										Additive expression
																																											Additive expression
																																												Additive expression
																																													Additive expression
																																														Additive expression
																																															Additive expression
																																																Additive expression
																																																	Additive expression
																																																		String
																																																			PsiElement(single quoted string)(''INSERT INTO '')
																																																		PsiElement(dot)('.')
																																																		Field reference
																																																			Variable
																																																				PsiElement(variable)('$this')
																																																			PsiElement(arrow)('->')
																																																			Field reference
																																																				PsiElement(identifier)('config')
																																																			PsiElement([)('[')
																																																			Array index
																																																				String
																																																					PsiElement(single quoted string)(''table_prefix'')
																																																			PsiElement(])(']')
																																																	PsiElement(dot)('.')
																																																	String
																																																		PsiElement(single quoted string)(''upload'')
																																																PsiElement(dot)('.')
																																																PsiWhiteSpace('\n\t\t\t\t\t\t\t\t\t')
																																																String
																																																	PsiElement(string)('" SET page_id="')
																																															PsiElement(dot)('.')
																																															Function call
																																																PsiElement(identifier)('quote')
																																																PsiElement(()('(')
																																																Parameter list
																																																	Ternary expression
																																																		Variable
																																																			PsiElement(variable)('$is_global')
																																																		PsiElement(ternary)('?')
																																																		String
																																																			PsiElement(single quoted string)(''NULL'')
																																																		PsiElement(colon)(':')
																																																		Field reference
																																																			Variable
																																																				PsiElement(variable)('$this')
																																																			PsiElement(arrow)('->')
																																																			Field reference
																																																				PsiElement(identifier)('page')
																																																			PsiElement([)('[')
																																																			Array index
																																																				String
																																																					PsiElement(single quoted string)(''id'')
																																																			PsiElement(])(']')
																																																PsiElement())(')')
																																														PsiElement(dot)('.')
																																														PsiWhiteSpace('\n\t\t\t\t\t\t\t\t\t\t')
																																														String
																																															PsiElement(string)('", filename='"')
																																													PsiElement(dot)('.')
																																													Function call
																																														PsiElement(identifier)('quote')
																																														PsiElement(()('(')
																																														Parameter list
																																															Variable
																																																PsiElement(variable)('$small_name')
																																														PsiElement())(')')
																																												PsiElement(dot)('.')
																																												String
																																													PsiElement(string)('"', description='"')
																																											PsiElement(dot)('.')
																																											Function call
																																												PsiElement(identifier)('quote')
																																												PsiElement(()('(')
																																												Parameter list
																																													Variable
																																														PsiElement(variable)('$description')
																																												PsiElement())(')')
																																										PsiElement(dot)('.')
																																										String
																																											PsiElement(string)('"'"')
																																									PsiElement(dot)('.')
																																									PsiWhiteSpace('\n\t\t\t\t\t\t\t\t\t\t')
																																									String
																																										PsiElement(string)('", filesize='"')
																																								PsiElement(dot)('.')
																																								Function call
																																									PsiElement(identifier)('quote')
																																									PsiElement(()('(')
																																									Parameter list
																																										Variable
																																											PsiElement(variable)('$file_size')
																																									PsiElement())(')')
																																							PsiElement(dot)('.')
																																							String
																																								PsiElement(string)('"', picture_w='"')
																																						PsiElement(dot)('.')
																																						Function call
																																							PsiElement(identifier)('quote')
																																							PsiElement(()('(')
																																							Parameter list
																																								Array
																																									Variable
																																										PsiElement(variable)('$size')
																																									PsiElement([)('[')
																																									Array index
																																										Number
																																											PsiElement(integer)('0')
																																									PsiElement(])(']')
																																							PsiElement())(')')
																																					PsiElement(dot)('.')
																																					String
																																						PsiElement(string)('"'"')
																																				PsiElement(dot)('.')
																																				PsiWhiteSpace('\n\t\t\t\t\t\t\t\t\t\t')
																																				String
																																					PsiElement(string)('", picture_h='"')
																																			PsiElement(dot)('.')
																																			Function call
																																				PsiElement(identifier)('quote')
																																				PsiElement(()('(')
																																				Parameter list
																																					Array
																																						Variable
																																							PsiElement(variable)('$size')
																																						PsiElement([)('[')
																																						Array index
																																							Number
																																								PsiElement(integer)('1')
																																						PsiElement(])(']')
																																				PsiElement())(')')
																																		PsiElement(dot)('.')
																																		String
																																			PsiElement(string)('"', file_ext='"')
																																	PsiElement(dot)('.')
																																	Function call
																																		PsiElement(identifier)('quote')
																																		PsiElement(()('(')
																																		Parameter list
																																			Function call
																																				PsiElement(identifier)('substr')
																																				PsiElement(()('(')
																																				Parameter list
																																					Variable
																																						PsiElement(variable)('$ext')
																																					PsiElement(comma)(',')
																																					Number
																																						PsiElement(integer)('0')
																																					PsiElement(comma)(',')
																																					Number
																																						PsiElement(integer)('10')
																																				PsiElement())(')')
																																		PsiElement())(')')
																																PsiElement(dot)('.')
																																String
																																	PsiElement(string)('"'"')
																															PsiElement(dot)('.')
																															PsiWhiteSpace('\n\t\t\t\t\t\t\t\t\t\t')
																															String
																																PsiElement(string)('", user='"')
																														PsiElement(dot)('.')
																														Function call
																															PsiElement(identifier)('quote')
																															PsiElement(()('(')
																															Parameter list
																																Array
																																	Variable
																																		PsiElement(variable)('$user')
																																	PsiElement([)('[')
																																	Array index
																																		String
																																			PsiElement(string)('"name"')
																																	PsiElement(])(']')
																															PsiElement())(')')
																													PsiElement(dot)('.')
																													String
																														PsiElement(string)('"', uploaded_dt='"')
																												PsiElement(dot)('.')
																												Function call
																													PsiElement(identifier)('quote')
																													PsiElement(()('(')
																													Parameter list
																														Function call
																															PsiElement(identifier)('date')
																															PsiElement(()('(')
																															Parameter list
																																String
																																	PsiElement(single quoted string)(''Y-m-d H:i:s'')
																															PsiElement())(')')
																													PsiElement())(')')
																											PsiElement(dot)('.')
																											String
																												PsiElement(string)('"' "')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								Statement
																									Method reference
																										Variable
																											PsiElement(variable)('$this')
																										PsiElement(arrow)('->')
																										PsiElement(identifier)('query')
																										PsiElement(()('(')
																										Parameter list
																											Variable
																												PsiElement(variable)('$sql')
																										PsiElement())(')')
																									PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\n\t\t\t\t\t\t\t')
																								PsiComment(line comment)('// 4. output link to file')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								PsiComment(line comment)('// !!!!! write after providing filelink syntax')
																								PsiWhiteSpace('\n                            ')
																								PsiElement(php closing tag)('?>')
																								HTML
																									PsiElement(html)('<h1>')
																								PsiElement(php echo opening tag)('<?=')
																								Statement
																									Method reference
																										Variable
																											PsiElement(variable)('$this')
																										PsiElement(arrow)('->')
																										PsiElement(identifier)('getResourceValue')
																										PsiElement(()('(')
																										Parameter list
																											String
																												PsiElement(single quoted string)(''UploadDone'')
																										PsiElement())(')')
																								PsiElement(php closing tag)('?>')
																								HTML
																									PsiElement(html)('</h1>\n                            <br />\n                            ')
																								PsiElement(php echo opening tag)('<?=')
																								PsiWhiteSpace(' ')
																								Statement
																									Additive expression
																										Additive expression
																											String
																												PsiElement(single quoted string)(''file:/'')
																											PsiWhiteSpace(' ')
																											PsiElement(dot)('.')
																											PsiWhiteSpace(' ')
																											PsiElement(()('(')
																											Additive expression
																												Field reference
																													Variable
																														PsiElement(variable)('$this')
																													PsiElement(arrow)('->')
																													PsiElement(identifier)('tag')
																												PsiWhiteSpace(' ')
																												PsiElement(dot)('.')
																												PsiWhiteSpace(' ')
																												String
																													PsiElement(single quoted string)(''/'')
																											PsiElement())(')')
																										PsiWhiteSpace(' ')
																										PsiElement(dot)('.')
																										PsiWhiteSpace(' ')
																										Variable
																											PsiElement(variable)('$small_name')
																								PsiWhiteSpace(' ')
																								PsiElement(php closing tag)('?>\n')
																								HTML
																									PsiElement(html)('                            <br /><br />')
																								PsiElement(php opening tag)('<?')
																							PsiWhiteSpace('\n\t\t\t\t\t\t')
																							PsiElement(})('}')
																							PsiWhiteSpace(' ')
																							Else
																								PsiElement(else)('else')
																								PsiWhiteSpace(' ')
																								PsiElement({)('{')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								PsiComment(line comment)('//cannot write file')
																								PsiWhiteSpace('\n\t\t\t\t\t\t\t')
																								Group statement
																									Statement
																										Assignment expression
																											Variable
																												PsiElement(variable)('$error')
																											PsiWhiteSpace(' ')
																											PsiElement(assign)('=')
																											PsiWhiteSpace(' ')
																											Method reference
																												Variable
																													PsiElement(variable)('$this')
																												PsiElement(arrow)('->')
																												PsiElement(identifier)('getResourceValue')
																												PsiElement(()('(')
																												Parameter list
																													String
																														PsiElement(single quoted string)(''UploadCannotWrite'')
																												PsiElement())(')')
																										PsiElement(semicolon)(';')
																								PsiWhiteSpace('\n\t\t\t\t\t\t')
																								PsiElement(})('}')
																				PsiWhiteSpace('\n\t\t\t\t\t')
																				PsiElement(})('}')
																				PsiWhiteSpace(' ')
																				Else
																					PsiElement(else)('else')
																					PsiWhiteSpace(' ')
																					PsiElement({)('{')
																					PsiWhiteSpace('\n\t\t\t\t\t\t')
																					PsiComment(line comment)('//forbid')
																					PsiWhiteSpace('\n\t\t\t\t\t\t')
																					Group statement
																						Statement
																							Assignment expression
																								Variable
																									PsiElement(variable)('$error')
																								PsiWhiteSpace(' ')
																								PsiElement(assign)('=')
																								PsiWhiteSpace(' ')
																								Method reference
																									Variable
																										PsiElement(variable)('$this')
																									PsiElement(arrow)('->')
																									PsiElement(identifier)('getResourceValue')
																									PsiElement(()('(')
																									Parameter list
																										String
																											PsiElement(single quoted string)(''UploadNotAPicture'')
																									PsiElement())(')')
																							PsiElement(semicolon)(';')
																					PsiWhiteSpace('\n\t\t\t\t\t')
																					PsiElement(})('}')
																	PsiWhiteSpace('\n\t\t\t\t')
																	PsiElement(})('}')
																	PsiWhiteSpace(' ')
																	Else
																		PsiElement(else)('else')
																		PsiWhiteSpace(' ')
																		PsiElement({)('{')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		PsiComment(line comment)('//maxsize')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Group statement
																			Statement
																				Assignment expression
																					Variable
																						PsiElement(variable)('$error')
																					PsiWhiteSpace(' ')
																					PsiElement(assign)('=')
																					PsiWhiteSpace(' ')
																					Method reference
																						Variable
																							PsiElement(variable)('$this')
																						PsiElement(arrow)('->')
																						PsiElement(identifier)('getResourceValue')
																						PsiElement(()('(')
																						Parameter list
																							String
																								PsiElement(single quoted string)(''UploadMaxSizeReached'')
																						PsiElement())(')')
																				PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\t\t\t\t')
																		PsiElement(})('}')
														PsiWhiteSpace('\n\t\t\t')
														PsiElement(})('}')
														PsiWhiteSpace(' ')
														Else
															PsiElement(else)('else')
															PsiWhiteSpace(' ')
															PsiElement({)('{')
															PsiWhiteSpace('\n\t\t\t\t')
															PsiComment(line comment)('//!is_uploaded_file')
															PsiWhiteSpace('\n\t\t\t\t')
															Group statement
																Statement
																	If
																		PsiElement(if)('if')
																		PsiWhiteSpace(' ')
																		PsiElement(()('(')
																		Logical expression
																			Equality expression
																				Array
																					Array
																						Variable
																							PsiElement(variable)('$_FILES')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''file'')
																						PsiElement(])(']')
																					PsiElement([)('[')
																					Array index
																						String
																							PsiElement(single quoted string)(''error'')
																					PsiElement(])(']')
																				PsiElement(equals)('==')
																				Constant
																					PsiElement(identifier)('UPLOAD_ERR_INI_SIZE')
																			PsiWhiteSpace(' ')
																			PsiElement(or)('||')
																			PsiWhiteSpace(' ')
																			Equality expression
																				Array
																					Array
																						Variable
																							PsiElement(variable)('$_FILES')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''file'')
																						PsiElement(])(']')
																					PsiElement([)('[')
																					Array index
																						String
																							PsiElement(single quoted string)(''error'')
																					PsiElement(])(']')
																				PsiElement(equals)('==')
																				Constant
																					PsiElement(identifier)('UPLOAD_ERR_FORM_SIZE')
																		PsiElement())(')')
																		PsiWhiteSpace(' ')
																		PsiElement({)('{')
																		PsiWhiteSpace('\n\t\t\t\t\t')
																		Group statement
																			Statement
																				Assignment expression
																					Variable
																						PsiElement(variable)('$error')
																					PsiWhiteSpace(' ')
																					PsiElement(assign)('=')
																					PsiWhiteSpace(' ')
																					Method reference
																						Variable
																							PsiElement(variable)('$this')
																						PsiElement(arrow)('->')
																						PsiElement(identifier)('getResourceValue')
																						PsiElement(()('(')
																						Parameter list
																							String
																								PsiElement(single quoted string)(''UploadMaxSizeReached'')
																						PsiElement())(')')
																				PsiElement(semicolon)(';')
																		PsiWhiteSpace('\n\t\t\t\t')
																		PsiElement(})('}')
																		PsiWhiteSpace(' ')
																		Elseif
																			PsiElement(elseif)('elseif')
																			PsiWhiteSpace(' ')
																			PsiElement(()('(')
																			Logical expression
																				Equality expression
																					Array
																						Array
																							Variable
																								PsiElement(variable)('$_FILES')
																							PsiElement([)('[')
																							Array index
																								String
																									PsiElement(single quoted string)(''file'')
																							PsiElement(])(']')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''error'')
																						PsiElement(])(']')
																					PsiElement(equals)('==')
																					Constant
																						PsiElement(identifier)('UPLOAD_ERR_PARTIAL')
																				PsiWhiteSpace(' ')
																				PsiElement(or)('||')
																				PsiWhiteSpace(' ')
																				Equality expression
																					Array
																						Array
																							Variable
																								PsiElement(variable)('$_FILES')
																							PsiElement([)('[')
																							Array index
																								String
																									PsiElement(single quoted string)(''file'')
																							PsiElement(])(']')
																						PsiElement([)('[')
																						Array index
																							String
																								PsiElement(single quoted string)(''error'')
																						PsiElement(])(']')
																					PsiElement(equals)('==')
																					Constant
																						PsiElement(identifier)('UPLOAD_ERR_NO_FILE')
																			PsiElement())(')')
																			PsiWhiteSpace(' ')
																			PsiElement({)('{')
																			PsiWhiteSpace('\n\t\t\t\t\t')
																			Group statement
																				Statement
																					Assignment expression
																						Variable
																							PsiElement(variable)('$error')
																						PsiWhiteSpace(' ')
																						PsiElement(assign)('=')
																						PsiWhiteSpace(' ')
																						Method reference
																							Variable
																								PsiElement(variable)('$this')
																							PsiElement(arrow)('->')
																							PsiElement(identifier)('getResourceValue')
																							PsiElement(()('(')
																							Parameter list
																								String
																									PsiElement(single quoted string)(''UploadNoFile'')
																							PsiElement())(')')
																					PsiElement(semicolon)(';')
																			PsiWhiteSpace('\n\t\t\t\t')
																			PsiElement(})('}')
																		PsiWhiteSpace(' ')
																		Else
																			PsiElement(else)('else')
																			PsiWhiteSpace(' ')
																			PsiElement({)('{')
																			PsiWhiteSpace('\n\t\t\t\t\t')
																			Group statement
																				Statement
																					Assignment expression
																						Variable
																							PsiElement(variable)('$error')
																						PsiWhiteSpace(' ')
																						PsiElement(assign)('=')
																						PsiWhiteSpace(' ')
																						Method reference
																							Variable
																								PsiElement(variable)('$this')
																							PsiElement(arrow)('->')
																							PsiElement(identifier)('getResourceValue')
																							PsiElement(()('(')
																							Parameter list
																								String
																									PsiElement(single quoted string)(''UploadMaxSizeReached'')
																							PsiElement())(')')
																					PsiElement(semicolon)(';')
																			PsiWhiteSpace('\n\t\t\t\t')
																			PsiElement(})('}')
															PsiWhiteSpace('\n\t\t\t')
															PsiElement(})('}')
											PsiWhiteSpace('\n\t\t')
											PsiElement(})('}')
											PsiWhiteSpace(' ')
											Else
												PsiElement(else)('else')
												PsiWhiteSpace(' ')
												PsiElement({)('{')
												PsiWhiteSpace('\n\t\t\t')
												Group statement
													Statement
														Assignment expression
															Variable
																PsiElement(variable)('$error')
															PsiWhiteSpace(' ')
															PsiElement(assign)('=')
															PsiWhiteSpace(' ')
															Method reference
																Variable
																	PsiElement(variable)('$this')
																PsiElement(arrow)('->')
																PsiElement(identifier)('getResourceValue')
																PsiElement(()('(')
																Parameter list
																	String
																		PsiElement(single quoted string)(''UploadMaxFileCount'')
																PsiElement())(')')
														PsiElement(semicolon)(';')
												PsiWhiteSpace('\n\t\t')
												PsiElement(})('}')
								PsiWhiteSpace('\n\t')
								PsiElement(})('}')
					PsiWhiteSpace('\n\t')
					Statement
						If
							PsiElement(if)('if')
							PsiWhiteSpace(' ')
							PsiElement(()('(')
							Variable
								PsiElement(variable)('$error')
							PsiElement())(')')
							PsiWhiteSpace(' ')
							PsiElement({)('{')
							PsiWhiteSpace('\n\t\t')
							Group statement
								Statement
									Echo
										PsiElement(echo)('echo')
										PsiWhiteSpace(' ')
										Additive expression
											Variable
												PsiElement(variable)('$error')
											PsiElement(dot)('.')
											String
												PsiElement(string)('"<br /><br />"')
										PsiElement(semicolon)(';')
							PsiWhiteSpace('\n\t')
							PsiElement(})('}')
					PsiWhiteSpace('\n\t')
					Statement
						Echo
							PsiElement(echo)('echo')
							PsiWhiteSpace(' ')
							Additive expression
								Method reference
									Variable
										PsiElement(variable)('$this')
									PsiElement(arrow)('->')
									PsiElement(identifier)('action')
									PsiElement(()('(')
									Parameter list
										String
											PsiElement(single quoted string)(''upload'')
										PsiElement(comma)(',')
										PsiWhiteSpace(' ')
										Array
											PsiElement(array)('array')
											PsiElement(()('(')
											PsiElement())(')')
									PsiElement())(')')
								PsiElement(dot)('.')
								String
									PsiElement(single quoted string)(''<br />'')
							PsiElement(semicolon)(';')
					PsiWhiteSpace('\n\t')
					Statement
						Echo
							PsiElement(echo)('echo')
							PsiWhiteSpace(' ')
							Method reference
								Variable
									PsiElement(variable)('$this')
								PsiElement(arrow)('->')
								PsiElement(identifier)('action')
								PsiElement(()('(')
								Parameter list
									String
										PsiElement(single quoted string)(''files'')
									PsiElement(comma)(',')
									PsiWhiteSpace(' ')
									Array
										PsiElement(array)('array')
										PsiElement(()('(')
										PsiElement())(')')
								PsiElement())(')')
							PsiElement(semicolon)(';')
				PsiWhiteSpace('\n')
				PsiElement(})('}')
				PsiWhiteSpace(' ')
				Else
					PsiElement(else)('else')
					PsiWhiteSpace(' ')
					PsiElement({)('{')
					PsiWhiteSpace('\n\t')
					Group statement
						Statement
							Echo
								PsiElement(echo)('echo')
								PsiWhiteSpace(' ')
								Method reference
									Variable
										PsiElement(variable)('$this')
									PsiElement(arrow)('->')
									PsiElement(identifier)('getResourceValue')
									PsiElement(()('(')
									Parameter list
										String
											PsiElement(single quoted string)(''UploadForbidden'')
									PsiElement())(')')
								PsiElement(semicolon)(';')
					PsiWhiteSpace('\n')
					PsiElement(})('}')
		PsiWhiteSpace('\n')
		Statement
			If
				PsiElement(if)('if')
				PsiWhiteSpace(' ')
				PsiElement(()('(')
				Unary expression
					PsiElement(not)('!')
					Method reference
						Variable
							PsiElement(variable)('$this')
						PsiElement(arrow)('->')
						PsiElement(identifier)('getConfigValue')
						PsiElement(()('(')
						Parameter list
							String
								PsiElement(single quoted string)(''revisions_hide_cancel'')
						PsiElement())(')')
				PsiElement())(')')
				PsiWhiteSpace(' ')
				PsiElement({)('{')
				PsiWhiteSpace('\n\t')
				Group statement
					Statement
						Echo
							PsiElement(echo)('echo')
							PsiWhiteSpace(' ')
							Additive expression
								Additive expression
									Additive expression
										Additive expression
											String
												PsiElement(single quoted string)(''<input type="button" value="'')
											PsiElement(dot)('.')
											Method reference
												Variable
													PsiElement(variable)('$this')
												PsiElement(arrow)('->')
												PsiElement(identifier)('getResourceValue')
												PsiElement(()('(')
												Parameter list
													String
														PsiElement(single quoted string)(''CancelDifferencesButton'')
												PsiElement())(')')
										PsiElement(dot)('.')
										String
											PsiElement(single quoted string)(''" onclick="document.location=\''')
									PsiElement(dot)('.')
									Function call
										PsiElement(identifier)('addslashes')
										PsiElement(()('(')
										Parameter list
											Method reference
												Variable
													PsiElement(variable)('$this')
												PsiElement(arrow)('->')
												PsiElement(identifier)('href')
												PsiElement(()('(')
												Parameter list
													String
														PsiElement(single quoted string)('''')
												PsiElement())(')')
										PsiElement())(')')
								PsiElement(dot)('.')
								String
									PsiElement(string)('"';\" />\n"')
							PsiElement(semicolon)(';')
				PsiWhiteSpace('\n')
				PsiElement(})('}')
		PsiWhiteSpace('\n')
		PsiElement(php closing tag)('?>\n')
		HTML
			PsiElement(html)('</div>')